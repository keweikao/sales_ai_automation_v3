---
name: pr-review
description: Pull Request å¯©æŸ¥ã€‚ç•¶ç”¨æˆ¶è¦æ±‚å»ºç«‹ PRã€æº–å‚™ mergeã€æˆ–èªªã€ŒPR reviewã€æ™‚è‡ªå‹•åŸ·è¡Œã€‚åˆ†ææ‰€æœ‰ commitsã€æ¨™è¨˜é¢¨éšªå€åŸŸã€æª¢æŸ¥æ¸¬è©¦è¦†è“‹ã€ç”¢ç”Ÿ PR æ‘˜è¦ã€‚
allowed-tools:
  - Bash(gh *)
  - Bash(git *)
  - Bash(bun run test *)
  - Bash(bun x ultracite check)
  - Read
  - Grep
  - Glob
---

# PR Review - Pull Request å¯©æŸ¥

## è‡ªå‹•è§¸ç™¼æ™‚æ©Ÿ

Claude æœƒåœ¨ä»¥ä¸‹æƒ…æ³**è‡ªå‹•åŸ·è¡Œ**æ­¤ skillï¼š

| è§¸ç™¼æƒ…å¢ƒ | èªªæ˜ |
|---------|------|
| å»ºç«‹ PR | ç”¨æˆ¶èªªã€Œå»ºç«‹ PRã€ã€ã€Œcreate PRã€ |
| æº–å‚™ merge | PR æº–å‚™åˆä½µå‰çš„æœ€çµ‚æª¢æŸ¥ |
| ç”¨æˆ¶è¦æ±‚ | ã€Œreview PRã€ã€ã€Œæª¢æŸ¥ PRã€ |
| åˆ†æ”¯å®Œæˆ | åŠŸèƒ½åˆ†æ”¯é–‹ç™¼å®Œæˆï¼Œæº–å‚™åˆä½µ |

## å¯©æŸ¥æµç¨‹

### æ­¥é©Ÿ 1: æ”¶é›† PR è³‡è¨Š

```bash
# æŸ¥çœ‹ç•¶å‰åˆ†æ”¯
git branch --show-current

# æŸ¥çœ‹èˆ‡ main çš„å·®ç•°
git log main..HEAD --oneline

# æŸ¥çœ‹è®Šæ›´çš„æª”æ¡ˆ
git diff main --name-only

# æŸ¥çœ‹è®Šæ›´çµ±è¨ˆ
git diff main --stat
```

### æ­¥é©Ÿ 2: åˆ†æè®Šæ›´å…§å®¹

å°æ¯å€‹è®Šæ›´çš„æª”æ¡ˆåˆ†é¡ï¼š

| åˆ†é¡ | æª”æ¡ˆæ¨¡å¼ | é¢¨éšªç­‰ç´š |
|------|---------|---------|
| API è·¯ç”± | `packages/api/src/routers/*` | ğŸ”´ é«˜ |
| è³‡æ–™åº« Schema | `packages/db/src/schema/*` | ğŸ”´ é«˜ |
| èªè­‰é‚è¼¯ | `packages/auth/*` | ğŸ”´ é«˜ |
| æ¥­å‹™é‚è¼¯ | `packages/services/*` | ğŸŸ  ä¸­ |
| UI å…ƒä»¶ | `apps/web/src/components/*` | ğŸŸ¡ ä½ |
| æ¸¬è©¦ | `**/*.test.ts` | ğŸŸ¢ å®‰å…¨ |
| æ–‡ä»¶ | `*.md`, `.doc/*` | ğŸŸ¢ å®‰å…¨ |

### æ­¥é©Ÿ 3: åŸ·è¡Œæª¢æŸ¥

```bash
# å‹åˆ¥æª¢æŸ¥
bun run typecheck

# Lint æª¢æŸ¥
bun x ultracite check

# åŸ·è¡Œæ¸¬è©¦
bun run test
```

### æ­¥é©Ÿ 4: å®‰å…¨æƒæ

è‡ªå‹•èª¿ç”¨ `/secret-scanner` å’Œ `/security-audit`

### æ­¥é©Ÿ 5: ç”¢ç”Ÿå ±å‘Š

## è¼¸å‡ºæ ¼å¼

```markdown
## ğŸ“‹ PR Review å ±å‘Š

### åŸºæœ¬è³‡è¨Š
- **åˆ†æ”¯**: feature/xxx â†’ main
- **Commits**: X å€‹
- **è®Šæ›´æª”æ¡ˆ**: X å€‹
- **æ–°å¢è¡Œæ•¸**: +XXX
- **åˆªé™¤è¡Œæ•¸**: -XXX

### ğŸ“Š è®Šæ›´æ‘˜è¦

#### ğŸ”´ é«˜é¢¨éšªè®Šæ›´
| æª”æ¡ˆ | è®Šæ›´é¡å‹ | èªªæ˜ |
|------|---------|------|
| `packages/api/src/routers/opportunity.ts` | ä¿®æ”¹ | æ–°å¢ API ç«¯é» |
| `packages/db/src/schema/opportunity.ts` | ä¿®æ”¹ | æ–°å¢æ¬„ä½ |

#### ğŸŸ  ä¸­é¢¨éšªè®Šæ›´
| æª”æ¡ˆ | è®Šæ›´é¡å‹ | èªªæ˜ |
|------|---------|------|
| `packages/services/src/llm.ts` | ä¿®æ”¹ | æ›´æ–° prompt |

#### ğŸŸ¢ ä½é¢¨éšªè®Šæ›´
- `apps/web/src/components/Button.tsx` - UI èª¿æ•´
- `README.md` - æ–‡ä»¶æ›´æ–°

### âœ… æª¢æŸ¥çµæœ

| æª¢æŸ¥é …ç›® | ç‹€æ…‹ | èªªæ˜ |
|---------|------|------|
| å‹åˆ¥æª¢æŸ¥ | âœ… | ç„¡éŒ¯èª¤ |
| Lint | âœ… | ç„¡å•é¡Œ |
| æ¸¬è©¦ | âœ… | 45/45 é€šé |
| å®‰å…¨æƒæ | âœ… | ç„¡æ•æ„Ÿè³‡è¨Š |
| å®‰å…¨å¯©è¨ˆ | âš ï¸ | 1 å€‹å»ºè­° |

### ğŸ” è©³ç´°å¯©æŸ¥

#### Commit åˆ†æ
1. `abc1234` - feat: æ–°å¢æ©Ÿæœƒæ‰¹é‡æ›´æ–°åŠŸèƒ½
2. `def5678` - fix: ä¿®å¾©åˆ†é å•é¡Œ
3. `ghi9012` - test: æ–°å¢å–®å…ƒæ¸¬è©¦

#### éœ€è¦æ³¨æ„çš„è®Šæ›´

##### packages/api/src/routers/opportunity.ts
- æ–°å¢ `batchUpdate` ç«¯é»
- âœ… æœ‰è¼¸å…¥é©—è­‰ï¼ˆZod schemaï¼‰
- âœ… æœ‰æ¬Šé™æª¢æŸ¥
- âš ï¸ å»ºè­°ï¼šæ–°å¢ rate limiting

### ğŸ“ PR æè¿°å»ºè­°

\`\`\`markdown
## Summary
- æ–°å¢æ©Ÿæœƒæ‰¹é‡æ›´æ–°åŠŸèƒ½
- ä¿®å¾©åˆ†é æŸ¥è©¢æ•ˆèƒ½å•é¡Œ

## Changes
- [x] æ–°å¢ batchUpdate API ç«¯é»
- [x] å„ªåŒ–åˆ†é æŸ¥è©¢é‚è¼¯
- [x] æ–°å¢å–®å…ƒæ¸¬è©¦

## Test Plan
- [x] å–®å…ƒæ¸¬è©¦é€šé
- [ ] æ‰‹å‹•æ¸¬è©¦æ‰¹é‡æ›´æ–°åŠŸèƒ½
- [ ] é©—è­‰åˆ†é æ•ˆèƒ½æ”¹å–„

## Screenshots
ï¼ˆå¦‚é©ç”¨ï¼‰
\`\`\`

### âœ… æº–å‚™åˆä½µ
- [x] æ‰€æœ‰æª¢æŸ¥é€šé
- [x] ç„¡å®‰å…¨å•é¡Œ
- [x] æ¸¬è©¦è¦†è“‹å……è¶³
- [ ] éœ€è¦äººå·¥ç¢ºèªé«˜é¢¨éšªè®Šæ›´
```

## å»ºç«‹ PR å‘½ä»¤

ç•¶æ‰€æœ‰æª¢æŸ¥é€šéå¾Œï¼š

```bash
gh pr create \
  --title "feat: æ©Ÿæœƒæ‰¹é‡æ›´æ–°åŠŸèƒ½" \
  --body "$(cat <<'EOF'
## Summary
[è‡ªå‹•ç”¢ç”Ÿçš„æ‘˜è¦]

## Test Plan
[è‡ªå‹•ç”¢ç”Ÿçš„æ¸¬è©¦è¨ˆåŠƒ]

https://claude.ai/code/[session-id]
EOF
)"
```

## å°ˆæ¡ˆç‰¹å®šè¦å‰‡

### PR å‘½åè¦ç¯„

```
<type>: <description>

type:
- feat: æ–°åŠŸèƒ½
- fix: Bug ä¿®å¾©
- refactor: é‡æ§‹
- docs: æ–‡ä»¶
- test: æ¸¬è©¦
- chore: é›œé …
```

### å¿…é ˆæª¢æŸ¥é …ç›®

| é …ç›® | åŸå›  |
|------|------|
| è³‡æ–™åº«é·ç§» | é¿å… production è³‡æ–™å•é¡Œ |
| API è®Šæ›´ | å‘å¾Œç›¸å®¹æ€§ |
| ç’°å¢ƒè®Šæ•¸ | ç¢ºä¿ production æœ‰è¨­å®š |

## æ•´åˆçš„å·¥å…·

| å·¥å…· | ç”¨é€” |
|------|------|
| `Bash(gh)` | GitHub CLI æ“ä½œ |
| `Bash(git)` | Git æ“ä½œ |
| `Bash(test)` | åŸ·è¡Œæ¸¬è©¦ |
| `Read` | è®€å–è®Šæ›´å…§å®¹ |

## ç›¸é—œ Skills

- `/code-review` - è©³ç´°ç¨‹å¼ç¢¼å¯©æŸ¥
- `/secret-scanner` - æ•æ„Ÿè³‡è¨Šæƒæ
- `/security-audit` - å®‰å…¨å¯©è¨ˆ
- `/test` - åŸ·è¡Œæ¸¬è©¦
